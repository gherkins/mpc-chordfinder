(this["webpackJsonpmpc-chordfinder-2"]=this["webpackJsonpmpc-chordfinder-2"]||[]).push([[0],{27:function(e,t,a){e.exports=a(52)},32:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),l=a(12),c=a.n(l),r=(a(32),a(8)),s=a(1),i=a(6),d=a.n(i),m=a(23),h=a.n(m);class p extends n.a.Component{render(){return n.a.createElement("select",{"aria-label":"Select 12 or 16 pads",value:this.props.value,className:"form-control",onChange:this.props.changeNumberOfPads},n.a.createElement("option",{value:"16"},"16 pads"),n.a.createElement("option",{value:"12"},"12 pads"))}}class u extends n.a.Component{render(){return n.a.createElement("select",{"aria-label":"Select a root note",value:this.props.value,className:"form-control",onChange:this.props.changeRootNote},n.a.createElement("option",{value:"C",className:"active"},"C"),n.a.createElement("option",{value:"C#"},"C# (Db)"),n.a.createElement("option",{value:"D"},"D"),n.a.createElement("option",{value:"D#"},"D# (Eb)"),n.a.createElement("option",{value:"E"},"E"),n.a.createElement("option",{value:"F"},"F"),n.a.createElement("option",{value:"F#"},"F# (Gb)"),n.a.createElement("option",{value:"G"},"G"),n.a.createElement("option",{value:"G#"},"G# (Ab)"),n.a.createElement("option",{value:"A"},"A"),n.a.createElement("option",{value:"A#"},"A# (Bb)"),n.a.createElement("option",{value:"B"},"B"))}}class v extends n.a.Component{render(){return n.a.createElement("select",{"aria-label":"Select a chord type",value:this.props.value,className:"form-control",onChange:this.props.changeChordType},n.a.createElement("option",{value:""},"maj"),n.a.createElement("option",{value:"maj7"},"maj7"),n.a.createElement("option",{value:"maj7b5"},"maj7b5"),n.a.createElement("option",{value:"maj7#5"},"maj7#5"),n.a.createElement("option",{value:"min"},"min"),n.a.createElement("option",{value:"min7"},"min7"),n.a.createElement("option",{value:"min7b5"},"min7b5"),n.a.createElement("option",{value:"min7#5"},"min7#5"),n.a.createElement("option",{value:"min6"},"min6"),n.a.createElement("option",{value:"mmaj7"},"mmaj7"),n.a.createElement("option",{value:"6"},"6"),n.a.createElement("option",{value:"7"},"7"),n.a.createElement("option",{value:"7b5"},"7b5"),n.a.createElement("option",{value:"7#5"},"7#5"),n.a.createElement("option",{value:"7sus4"},"7sus4"),n.a.createElement("option",{value:"aug"},"aug"),n.a.createElement("option",{value:"dim"},"dim"),n.a.createElement("option",{value:"dim7"},"dim7"),n.a.createElement("option",{value:"5"},"5"),n.a.createElement("option",{value:"sus2"},"sus2"),n.a.createElement("option",{value:"sus4"},"sus4"),n.a.createElement("option",{value:"sus2sus4"},"sus2sus4"))}}class b extends n.a.Component{render(){const e=this.props.numberOfPads,t=this.props.currentChord,a=[];let o=d.a.scale("c","chromatic").notes();for(let n=0;n<16;n++){let l=o[n%12],c="",r="";if(t.notes().forEach((function(e){l.chroma()===e.chroma()&&(c="active",r=e.name()+e.accidental())})),a.push({name:r,chroma:l.chroma(),activeClass:c}),12===e&&0===(n+1)%3&&a.push({}),16===a.length)break}let l=[a[12],a[13],a[14],a[15],a[8],a[9],a[10],a[11],a[4],a[5],a[6],a[7],a[0],a[1],a[2],a[3]];return n.a.createElement("div",{className:"row pads pads-"+e},Array.from(l,(e,t)=>n.a.createElement("div",{className:"col col-3 pad-container",key:t},n.a.createElement("div",{className:"embed-responsive embed-responsive-1by1 text-center"},n.a.createElement("div",{className:"embed-responsive-item pad "+e.activeClass},n.a.createElement("span",{className:"pad-name align-middle"},e.name))))))}}class g extends n.a.Component{render(){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col col-12"},n.a.createElement("button",{className:"btn btn-block text-left",onClick:this.props.addChordToCollection},"Add chord to collection"),n.a.createElement(r.b,{to:"/collection/"+this.props.numberOfPads+"/"+this.props.collection.join("-")},n.a.createElement("button",{className:"btn btn-block text-left",disabled:0===this.props.collection.length},"Show chord-collection (",this.props.collection.length,")")),n.a.createElement("button",{className:"btn btn-block text-left",disabled:0===this.props.collection.length,onClick:this.props.clearChordCollection},"Clear chord-collection"),n.a.createElement("button",{className:"btn btn-block text-left",onClick:this.props.generateRandomChordCollection},"Generate random collection")))}}var E=a(25),C=a.n(E),w=a(26),f=a.n(w);class N extends n.a.Component{componentDidMount(){window.scrollTo(0,0),window.gtag("event","view",{event_category:"showCollection",event_label:window.location.hash})}trackClipboardCopy(){window.gtag("event","button-clicked",{event_category:"copyCollectionToClipboard",event_label:window.location.hash})}exportAsJPG(){window.gtag("event","button-clicked",{event_category:"exportAsJPG",event_label:window.location.hash});const e=document.querySelectorAll(".pad")[0].style.boxShadow;document.querySelectorAll(".pad").forEach(e=>{e.style.boxShadow="none"});const t=document.querySelector(".container.collection");f()(t,{useCORS:!0,allowTaint:!0,backgroundColor:"#3862fd"}).then(t=>{const a=t.toDataURL("image/jpeg",.5),o=document.createElement("a");o.download="mpc-chord-collection",o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),document.querySelectorAll(".pad").forEach(t=>{t.style.boxShadow=e})})}render(){let e=[];try{let a=window.location.href.split("/"),o=a.pop().split("-");var t=parseInt(a.pop());o.forEach((function(t){let a=d.a.chord(t);e.push(a)}))}catch(a){return n.a.createElement(s.a,{to:"/"})}return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col col-12"},n.a.createElement("h2",null,"MPC-Chords (",e.length,")"))),n.a.createElement("div",{className:"row actions"},n.a.createElement("div",{className:"col col-12"},n.a.createElement(r.b,{to:"/"},n.a.createElement("button",{className:"btn btn-block text-left back"},"Back to the Chord-Finder-App")),n.a.createElement(C.a,{"data-clipboard-text":window.location.href,className:"btn btn-block text-left",onClick:this.trackClipboardCopy,component:"button"},"Copy collection-URL to clipboard"),n.a.createElement("button",{className:"btn btn-block text-left mb-0",onClick:this.exportAsJPG},"Export collection as JPG-Image")))),n.a.createElement("div",{className:"container collection"},Array.from(e,(e,a)=>n.a.createElement("div",{className:"chord",key:a},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col col-12"},n.a.createElement("h3",null,e.name))),n.a.createElement(b,{key:a,currentChord:e,numberOfPads:t})))))}}var y=N;a(51);class k extends n.a.Component{constructor(e){super(e),this.state={numberOfPads:16,rootNote:"C",chordType:"",collection:[]},this.changeNumberOfPads=this.changeNumberOfPads.bind(this),this.changeRootNote=this.changeRootNote.bind(this),this.changeChordType=this.changeChordType.bind(this),this.addChordToCollection=this.addChordToCollection.bind(this),this.clearChordCollection=this.clearChordCollection.bind(this),this.generateRandomChordCollection=this.generateRandomChordCollection.bind(this)}changeNumberOfPads(e){window.gtag("event","select-changed",{event_category:"changeNumberOfPads",event_label:e.target.value}),this.setState({numberOfPads:parseInt(e.target.value)})}changeRootNote(e){window.gtag("event","select-changed",{event_category:"changeRootNote",event_label:e.target.value}),this.setState({rootNote:e.target.value})}changeChordType(e){window.gtag("event","select-changed",{event_category:"changeChordType",event_label:e.target.value}),this.setState({chordType:e.target.value})}addChordToCollection(){window.gtag("event","button-clicked",{event_category:"addChordToCollection",event_label:this.state.rootNote+this.state.chordType}),this.state.collection.push(this.state.rootNote+this.state.chordType),this.setState({collection:this.state.collection})}clearChordCollection(){window.gtag("event","button-clicked",{event_category:"clearChordCollection"}),this.setState({collection:[]})}generateRandomChordCollection(){try{const e=i.Scale.KNOWN_SCALES,t=e[Math.floor(Math.random()*e.length)],a=d.a.scale("c","chromatic").notes(),o=a[Math.floor(Math.random()*a.length)],n=d.a.scale(o.name(),t),l=h()(n,[2,5,1],4);let c=[];l.getChords().forEach(e=>{c.push(e.name)}),window.gtag("event","button-clicked",{event_category:"generateRandomChordCollection",event_label:c.join("-")}),this.setState({collection:c})}catch(e){this.generateRandomChordCollection()}}render(){const e=d.a.chord(this.state.rootNote+this.state.chordType),t=this.state.numberOfPads,a=this.state.collection;return n.a.createElement(r.a,{basename:"/"},n.a.createElement(s.d,null,n.a.createElement(s.b,{path:"/collection/:pads/:chords",exact:!0,component:y}),n.a.createElement(s.b,{path:"/",exact:!0},n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col col-12"},n.a.createElement("h2",null,"MPC-Chord-Finder"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col col-12"},n.a.createElement(p,{changeNumberOfPads:this.changeNumberOfPads,value:this.state.numberOfPads}),n.a.createElement(u,{changeRootNote:this.changeRootNote,value:this.state.rootNote}),n.a.createElement(v,{changeChordType:this.changeChordType,value:this.state.chordType})))),n.a.createElement("div",{className:"container pads"},n.a.createElement(b,{numberOfPads:t,currentChord:e})),n.a.createElement("div",{className:"container"},n.a.createElement("p",null),n.a.createElement(g,{addChordToCollection:this.addChordToCollection,clearChordCollection:this.clearChordCollection,generateRandomChordCollection:this.generateRandomChordCollection,numberOfPads:t,collection:a})))),n.a.createElement(s.b,{path:"*"},n.a.createElement(s.a,{to:"/"}))))}}var x=k;const S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}c.a.render(n.a.createElement(x,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="./service-worker.js";S?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(a=>{const o=a.headers.get("content-type");404===a.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):T(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):T(t,e)})}}()}},[[27,1,2]]]);
//# sourceMappingURL=main.2e38058a.chunk.js.map